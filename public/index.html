<!DOCTYPE html>
<html ng-app="autour">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <title>Autour</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Oswald'>
        <link rel="stylesheet" href="/stylesheets/style.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker.css" />
    </head>
    <body ng-controller="mainController">
        
        <nav class="nav-wrapper">
            <div class="container">
                <a href="/" class="navbar-brand">autour</a>
                <a href="#" class="navbar-right">LOGIN WITH FACEBOOK</a>
            </div>
        </nav>
        
        <div id="main" class="container">
            <div class="row">
                <h1>{{ message }}</h1>
            </div>
            <form id="form" autocomplete='off' class="col-md-offset-4 col-md-4">
                <!--<fieldset class="form-group">
                    <select ng-model="info.country" id="country" class="input-field" placeholder="COUNTRY">
                        <option value="US">UNITED STATES</option>
                        <option value="CA">CANADA</option>
                    </select>
                </fieldset>-->
                <fieldset class="form-group">
                    <input type="text" ng-model="info.origin" id="origin" class="input-field" placeholder="FLYING FROM">
                </fieldset>
                <fieldset class="form-group">
                    <input type="text" ng-model="info.departuredate" id="departDate" class="input-field datepicker" placeholder="DEPARTURE DATE">
                </fieldset>
                <fieldset class="form-group">
                    <input type="text" ng-model="info.returndate" id="returnDate" class="input-field datepicker" placeholder="RETURN DATE">
                </fieldset>
                <fieldset class="form-group">
                    <input type="text" ng-model="info.maxfare" id="budget" class="input-field" placeholder="BUDGET">
                </fieldset>
                <button ng-click="submit()">SEARCH</button>
            </form>
        </div>
        
        <div ng-show="results.status" id="results" class="container">
            <h2>Cities you can fly to:</h2>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>Flight Fare (USD)</th>
                        <th>Airport</th>
                    </tr>
                </thead>
                <tbody ng-repeat="d in fareinfo | orderBy: 'LowestFare'">
                    <!--<div ng-repeat="d in fareinfo | orderBy: 'LowestFare'">-->
                        <tr>
                            <td>{{ (d.LowestFare).toFixed(2) }}</td>
                            <td>{{ d.DestinationLocation }}</td>
                        </tr>
                    <!--</div>-->
                </tbody>
            </table>
        </div>
        <!--{"OriginLocation":"NYC","FareInfo":[{"CurrencyCode":"USD","LowestNonStopFare":136.2,"LowestFare":136.2,"DestinationLocation":"BUF","DepartureDateTime":"2015-05-25T00:00:00","ReturnDateTime":"2015-05-30T00:00:00","Links":[{"rel":"shop","href":"https://api.test.sabre.com/v1/shop/flights?origin=NYC&destination=BUF&departuredate=2015-05-25&returndate=2015-05-30&pointofsalecountry=US"}]}]-->
        <!--<div ng-view></div>-->
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/js/bootstrap-datepicker.js"></script>
        
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.js"></script>
        <script src="/app.js"></script>
        <script>
            $(function() {
                $('#departDate').datepicker({
                    autoclose: true,
                    startDate: new Date(),
                    format: 'yyyy-mm-dd',
                    orientation: "bottom right"
                }).on('changeDate', function(e) {
                    $('#returnDate').datepicker({ 
                        autoclose: true,
                        format: 'yyyy-mm-dd',
                        orientation: "bottom right"
                    })
                    .datepicker('setStartDate', e.date)
                    .focus();
                });
                
                $('#returnDate').datepicker({ 
                    autoclose: true,
                    startDate: new Date(),
                    format: 'yyyy-mm-dd',
                    orientation: "bottom right"
                });
            });
        </script>
    </body>
</html>
